<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>TutorLoop - Create Account</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&amp;display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#4A90E2",
            "accent": "#F5A623",
            "background-light": "#F7F9FC",
            "background-dark": "#101922",
            "text-light": "#333333",
            "text-dark": "#f0f2f4",
            "border-light": "#CCCCCC",
            "border-dark": "#4a5568",
            "placeholder-light": "#CCCCCC",
            "placeholder-dark": "#718096"
          },
          fontFamily: {
            "display": ["Lexend", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.25rem",
            "lg": "0.5rem",
            "xl": "0.75rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
  <style>
    .material-symbols-outlined {
      font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
    }

    .error-message {
      color: red;
      font-size: 0.875rem;
      margin-top: 4px;
      display: none;
    }

    .error-border {
      border-color: red !important;
    }

    .role-selected {
      background-color: rgba(74, 144, 226, 0.1);
      border-color: #4A90E2 !important;
      color: #4A90E2 !important;
      font-weight: 600;
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
  <div class="flex flex-col min-h-screen">
    <!-- Top Nav Bar -->
    <header class="w-full px-4 sm:px-8 lg:px-16 py-4">
      <div class="max-w-7xl mx-auto flex items-center justify-between">
        <div class="flex items-center gap-3 text-primary">
          <div class="size-6">
            <svg fill="none" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
              <path d="M44 4H30.6666V17.3334H17.3334V30.6666H4V44H44V4Z" fill="currentColor"></path>
            </svg>
          </div>
          <h1 class="text-xl font-bold tracking-tight">TutorLoop</h1>
        </div>
        <div class="flex items-center gap-4">
          <span class="text-sm hidden sm:inline">Already have an account?</span>
          <a href="Login.html"
            class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:bg-primary/90 transition-colors">
            <span class="truncate">Log In</span>
          </a>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex flex-1 items-center justify-center p-4 sm:p-6 lg:p-8">
      <div
        class="w-full max-w-4xl mx-auto bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden grid grid-cols-1 md:grid-cols-2">
        <!-- Image Panel -->
        <div class="relative hidden md:block">
          <img class="w-full h-full object-cover"
            src="https://lh3.googleusercontent.com/aida-public/AB6AXuDOpJCZN1P1oCeay71MnQATfRSFUMQ5AtMVhV8IjuniI7_n4fL0vlllGrn506KR6p5CYgtrkjPU6aJpkt63Wyu7PkUnVut0Z_kHHqZSDad_n0zuNNTePKqcYh3rBYEXjKHWaPzFii0IAr-jpmJbq_Uo6oYfp-g1NL3n-sQNseaus49Xzs-oXGo54yVlkS0vBIlu1HwyH2vMIF_IX50P3DGOZbRmQNqPSaDr2dYMaYva4QXuIUNfJM4W9wRyDIBHvi2CS5MyHJnTSUA" />
          <div class="absolute inset-0 bg-gradient-to-t from-primary/50 to-transparent"></div>
          <div class="absolute bottom-0 left-0 p-8 text-white">
            <h2 class="text-3xl font-bold mb-2">Unlock Your Potential.</h2>
            <p class="text-lg">Connect with the best tutors and students from your university.</p>
          </div>
        </div>

        <!-- Form Panel -->
        <div class="w-full p-8 lg:p-12 flex flex-col justify-center">
          <div class="text-center md:text-left">
            <p class="text-text-light dark:text-text-dark text-3xl font-black leading-tight tracking-tight">
              Create Your Account</p>
          </div>

          <form id="signup-form" class="mt-8 space-y-6" novalidate>
            <!-- Role Selector -->
            <div>
              <p class="text-base font-medium leading-normal pb-3 text-text-light dark:text-text-dark">I am a...</p>
              <div id="role-selector" class="grid grid-cols-2 gap-4">
                <label
                  class="role-selected flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-colors border-primary text-primary">
                  <input checked class="hidden" name="role" type="radio" value="tutor" />
                  <span>Tutor</span>
                </label>
                <label
                  class="flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-colors border-border-light dark:border-border-dark hover:border-primary/50 dark:hover:border-primary/50">
                  <input class="hidden" name="role" type="radio" value="tutee" />
                  <span>Tutee</span>
                </label>
              </div>
            </div>

            <!-- Full Name Field -->
            <div class="flex flex-col">
              <label for="full-name"
                class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark">Full Name</label>
              <input id="full-name" placeholder="Enter your full name" type="text"
                class="form-input rounded-lg border border-border-light dark:border-border-dark h-12 p-[15px]" />
              <span class="error-message">Please, enter the information.</span>
            </div>

            <!-- University Email Field -->
            <div class="flex flex-col">
              <label for="email"
                class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark">University
                Email</label>
              <input id="email" placeholder="name@university.edu" type="email"
                class="form-input rounded-lg border border-border-light dark:border-border-dark h-12 p-[15px]" />
              <span class="error-message">Please, enter the information.</span>
            </div>

            <!-- Password Field -->
            <div class="flex flex-col">
              <label for="password"
                class="text-base font-medium leading-normal pb-2 text-text-light dark:text-text-dark">Password</label>
              <input id="password" placeholder="Enter your password" type="password"
                class="form-input rounded-lg border border-border-light dark:border-border-dark h-12 p-[15px]" />
              <span class="error-message">Please, enter the information.</span>
            </div>

            <!-- ✅ Sign Up Button -->
            <div class="pt-2">
              <button
                class="w-full flex items-center justify-center rounded-lg h-12 px-4 bg-primary text-white text-base font-bold hover:bg-primary/90 transition-all"
                type="submit">
                Create Account
              </button>
            </div>

            <div class="text-center md:hidden">
              <a class="text-sm text-primary hover:underline" href="Login.html">Already have an account? Log In</a>
            </div>
          </form>
        </div>
      </div>
    </main>
  </div>

  <script>
  // Alternar entre Tutor y Tutee visualmente
  const roleLabels = document.querySelectorAll('#role-selector label');
  roleLabels.forEach(label => {
    label.addEventListener('click', () => {
      roleLabels.forEach(l => l.classList.remove('role-selected'));
      label.classList.add('role-selected');
      label.querySelector('input').checked = true;
    });
  });

  // Validación + redirección según rol
  document.getElementById("signup-form").addEventListener("submit", function (event) {
    event.preventDefault();
    let valid = true;

    const fields = ["full-name", "email", "password"];

    // Validación de inputs
    fields.forEach(id => {
      const input = document.getElementById(id);
      const error = input.nextElementSibling;

      input.classList.remove("error-border");
      error.style.display = "none";

      if (input.value.trim() === "") {
        input.classList.add("error-border");
        error.textContent = "Please, enter the information.";
        error.style.display = "block";
        valid = false;
      } else if (id === "email" && !input.value.includes("@")) {
        input.classList.add("error-border");
        error.textContent = "Invalid email address.";
        error.style.display = "block";
        valid = false;
      }
    });

    if (valid) {
      // Obtener el rol seleccionado
      const role = document.querySelector('input[name="role"]:checked').value;

      // Redireccionar según el rol
      if (role === "tutor") {
        window.location.href = "TutorProfile.html";
      } else {
        window.location.href = "Profile.html";
      }
    }
  });
</script>
</body>

</html>